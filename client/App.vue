<template>
  <v-app>
    <v-toolbar fixed class="main-navbar" height="64px" v-bind:class="{ black: (acct == 2), white: (acct != 2) }">
      <router-link to="/">
            <div id="nav-logo">
                <svg id="nav-logo-svg" xmlns="http://www.w3.org/2000/svg" viewBox="312 0 2384 1024">
                    <path d="M506.16,577.25c-46.35,0-92.71.29-139.05-.42-5.78-.09-14.6-4.23-16.72-8.9-20.71-45.61-37.64-92.35-37.34-143.58.29-50,19-91.57,62.15-117.12,76.17-45.1,158.71-61.61,246-41.22,45,10.51,70.88,42.05,79.76,86.87C711.62,406.7,699.19,458.25,682.9,509c-6.12,19.06-14.73,37.32-21.06,56.32-3.23,9.7-8.61,12.17-18.16,12.09C597.84,577,552,577.27,506.16,577.25Z"
                    />
                    <path d="M510,824.51c-21.76-30.53-41.24-57.45-60.25-84.7C438.55,723.78,412.5,683,412.5,683a46,46,0,0,1,5.66-6.22c54.42-44.31,128.54-42.73,185.28,7.29Z"
                    />
                    <path d="M810.57,376.87h49.36v75.23l88.73-75.23h38.11L886.65,461.53l127,115.59H954.15l-94.22-85.78v85.78H810.57Z" />
                    <path d="M1028,376.87h49.22V505.54a65.43,65.43,0,0,0,3.59,21.87A53.44,53.44,0,0,0,1091,545.2a48.44,48.44,0,0,0,16.24,12,53.62,53.62,0,0,0,42.68,0,48.68,48.68,0,0,0,16.17-12,53.49,53.49,0,0,0,10.27-17.79,65.43,65.43,0,0,0,3.59-21.87V376.87h30.94V505.54a81.69,81.69,0,0,1-5.27,29.32,63.8,63.8,0,0,1-16.45,24.26q-11.18,10.41-28.83,16.45t-42.26,6q-22.08,0-38.88-6T1051,559.05a69.13,69.13,0,0,1-17.23-24.4,75.59,75.59,0,0,1-5.84-29.53Z"
                    />
                    <path d="M1260.15,376.87h31.36L1405.7,504.28V376.87h30.8V580.22h-21.23l-124-140.62V577.12h-31.08Z" />
                    <path d="M1511.87,376.87l66.23,138.37,61.31-138.37h31.64l-90.14,203.34h-23.06L1461.1,376.87Z" />
                    <path d="M1845.15,376.87v17H1744.74V460h83.39v17.16h-83.39v79.45h100.41v20.53H1695.67V376.87Z" />
                    <path d="M2059.6,376.87v17h-69.33V577.12H1941.2V393.89h-69.33v-17Z" />
                </svg>
            </div>
        </router-link>
        <v-spacer></v-spacer>
        <div class="hidden-sm-and-up">
          <v-toolbar-side-icon class="hidden-sm-and-up" @click.stop="drawer = !drawer"></v-toolbar-side-icon>
        </div>

        <v-toolbar-items class="hidden-xs">
          <router-link v-for="item in items[acct]" :to="item.href" :key="item.title" class="toolbar__items">
            <v-menu offset-y v-if="item.subItems" open-on-hover>
              <v-btn flat style="width: 10px;" slot="activator">
                <img class="nav-img notranslate" :src="item.icon"></img>
                <div class="nav-text" style="color:#818181">{{ item.title }}</div>
              </v-btn>
              <v-list>
                <v-list-tile v-for="subitem in item.subItems" :key="item.title" @click="routeTo(subitem.href)">
                  <v-list-tile-title>{{ subitem.title }}</v-list-tile-title>
                </v-list-tile>
              </v-list>
            </v-menu>
            <v-btn v-else flat>
              <img class="nav-img" :src="item.icon"></img>
              <div class="nav-text" style="color:#818181">{{ item.title }}</div>
            </v-btn>
          </router-link>
        </v-toolbar-items>
    </v-toolbar>

    <v-navigation-drawer absolute temporary right light v-model="drawer" overflow>
      <v-toolbar flat class="transparent">
        <v-list class="pa-0">
          <v-list-tile>
            <v-list-tile-content style="flex: 0 1 85%;">
              <v-list-tile-title>Menu</v-list-tile-title>
            </v-list-tile-content>
            <v-btn icon @click.stop="drawer = !drawer">
                <v-icon>clear</v-icon>
              </v-btn>
          </v-list-tile>
        </v-list>
      </v-toolbar>
      <v-list class="pt-0" dense>
        <v-divider></v-divider>
        <router-link :to="item.href" v-for="item in items[acct]" :key="item.title">
          <v-list-tile>
            <v-list-tile-content>
              <v-list-tile-title>{{ item.title }}</v-list-tile-title>
            </v-list-tile-content>
          </v-list-tile>
        </router-link>
      </v-list>
    </v-navigation-drawer>

    <main>
      <transition name="slide-y-transition">
        <router-view></router-view>
      </transition>
    </main>

    <div id="bottom">
            <div id="bottom-content">
                <div id="bottom-brand">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 264 32"><path class="text" d="M.11,8.74H3v4.39L8.17,8.74H10.4L4.55,13.69,12,20.43H8.49l-5.5-5v5H.11Z"/><path d="M12.79,8.74h2.87v7.51a3.76,3.76,0,0,0,.21,1.27,3.15,3.15,0,0,0,.6,1,2.84,2.84,0,0,0,.95.7,3.12,3.12,0,0,0,2.48,0,2.78,2.78,0,0,0,.94-.7,3.21,3.21,0,0,0,.6-1,3.76,3.76,0,0,0,.21-1.27V8.74h1.8v7.51a4.81,4.81,0,0,1-.3,1.71,3.64,3.64,0,0,1-1,1.41,4.7,4.7,0,0,1-1.68,1,7.64,7.64,0,0,1-2.47.35,6.69,6.69,0,0,1-2.27-.35,4.83,4.83,0,0,1-1.65-1,4,4,0,0,1-1-1.42,4.4,4.4,0,0,1-.34-1.72Z"/><path class="text" d="M26.33,8.74h1.84l6.66,7.43V8.74h1.79V20.6H35.39l-7.24-8.2v8H26.33Z"/><path class="text" d="M41,8.74l3.86,8.07,3.59-8.07h1.84L45,20.6H43.71L38.06,8.74Z"/><path class="text" d="M60.47,8.74v1H54.61v3.86h4.86v1H54.61v4.64h5.86v1.2H51.74V8.74Z"/><path class="text" d="M73,8.74v1h-4V20.43H66.07V9.74H62v-1Z"/><path class="text" d="M88.44,16.83c.14-.34.41-.24.46,0a2.39,2.39,0,0,1-.31,1.58A5.09,5.09,0,0,1,84.31,21a4.19,4.19,0,0,1-3.38-.89,2.49,2.49,0,0,1-.82-1.61C79,20.55,77.76,23,76.61,25.66c-.1.22-.26.26-.41,0-.36-.5-.48-1.18,0-2.64a71.83,71.83,0,0,1,6.26-12c.24-.31.46-.26.58,0a2.57,2.57,0,0,1,.14,1.08c1.06-.91,2.47-1.58,3.5-.5s.62,3.36-.26,5.33a7.37,7.37,0,0,1-2.52,3.29A5.53,5.53,0,0,0,88.44,16.83Zm-7,2.76c.77.62,2.33-1.13,3.46-3.43.94-1.92,1.2-3.91.6-4.2s-2.06.91-3.19,2.76c-.26.43-.53.86-.82,1.37C80.86,17.59,80.74,19,81.41,19.59Z"/><path class="text" d="M94.63,11.74c.29-.19.48-.24.65,0,.46.5,1,1.56.34,2.35A12.91,12.91,0,0,0,93,18c-.38,1.25-.1,2.18.6,2.21.94,0,2.09-1.44,2.86-3.17.1-.19.24-.22.34,0a2.09,2.09,0,0,1-.12,1.49,3.62,3.62,0,0,1-3.22,2.35c-1.73-.07-2.42-1.66-1.82-3.46A14.85,14.85,0,0,1,94.49,13a5.22,5.22,0,0,1-2.81.91C90.77,15.63,88.46,19,88,21.22c0,.22-.19.34-.41.12-.7-.72-.7-1.82,0-3,.55-1.06,2.16-3.31,3-4.58-1.37-.89.72-3.72,1.61-3.74s.55,1.37,0,2.88A5.67,5.67,0,0,0,94.63,11.74Z"/><path class="text" d="M111,20.83c-2,0-2.5-1.49-1.8-3.53.82-2.35,2.9-4.9,2.5-5s-1.63.53-3.17,2.21a22.68,22.68,0,0,0-3.5,6.07c-.07.17-.24.31-.46.07a2.34,2.34,0,0,1-.19-2.45,22.1,22.1,0,0,1,1.51-3.26,3.56,3.56,0,0,1-2.23.6c-.48,2-2,4.51-3.79,5.09a2.57,2.57,0,0,1-3-1c-1.06-1.42-.7-3.53.38-5.4.94-1.63,2.38-3,3.82-3.12a1.56,1.56,0,0,1,1.61.79c.58.77,1.3.91,1.15,2.64a2.77,2.77,0,0,1,0,.43c1.51,0,3.07-1.78,4.37-3.75.17-.26.36-.26.5,0a2.79,2.79,0,0,1,.1,2.26c1.08-1.13,2.66-2.42,3.48-2.33a1.74,1.74,0,0,1,.94,2.54c-.53,1.08-1.66,2.81-2.23,4.06s-.5,2.45.41,2.42,2.09-1.58,3-3.31a.22.22,0,0,1,.41,0,1.9,1.9,0,0,1-.24,1.51A4.38,4.38,0,0,1,111,20.83Zm-10.46-8a9,9,0,0,0-1.87,2.28c-1.06,1.8-1.39,4-.74,4.56s2.14-.31,3.29-2.47a12.55,12.55,0,0,0,.89-2A3,3,0,0,1,100.58,12.82Zm1.87,0c-.12-.77-.62-.62-.72.07a1.82,1.82,0,0,0,.58,1.61A4.83,4.83,0,0,0,102.46,12.82Z"/><path class="text" d="M129.48,20.83c-1.56,0-2.16-1-2-2.35-.84,1.1-2.06,2.38-3.43,2.26-1.7-.14-1.75-1.9-1.22-3.48a12.1,12.1,0,0,1,.91-2.06,4.22,4.22,0,0,1-2.16.43c-.55,2-2,4.39-3.72,5a2.65,2.65,0,0,1-3-1.06c-1.06-1.42-.7-3.48.36-5.4.91-1.66,2.4-3,3.84-3.1a1.68,1.68,0,0,1,1.63.82c.58.72,1.25.86,1.13,2.64a4.06,4.06,0,0,1,0,.48,4.7,4.7,0,0,0,3.5-2.47c.24-.38.62-.91.91-1.32a.34.34,0,0,1,.6,0c.53.79.41,1.8-.46,3.22a23.34,23.34,0,0,0-1.87,3.5c-.48,1.18-.41,2,.12,2.06.94.07,2.28-1.56,3.55-3.65,1.49-2.42,2.18-4.08,2.93-5.11.22-.31.41-.36.6-.14a2.61,2.61,0,0,1,0,2.66c-.53,1.08-1.7,2.83-2.26,4.08s-.53,2.38.34,2.33,2.23-1.63,3.14-3.31c.12-.22.31-.24.43,0a1.9,1.9,0,0,1-.22,1.49A4.5,4.5,0,0,1,129.48,20.83Zm-11-8a8.71,8.71,0,0,0-1.87,2.28c-1,1.8-1.34,4-.72,4.54s2.11-.31,3.31-2.5a12.84,12.84,0,0,0,.84-1.94A3,3,0,0,1,118.51,12.82Zm1.18,0a1.86,1.86,0,0,0,.55,1.63,4.6,4.6,0,0,0,.17-1.7C120.31,12,119.76,12.19,119.69,12.87Z"/><path class="text" d="M139.8,11a1.74,1.74,0,0,1,.94,2.54c-.5,1.06-1.68,2.83-2.23,4.08s-.48,2.52.38,2.47S141,18.48,142,16.8c.12-.22.29-.22.41,0a1.76,1.76,0,0,1-.22,1.51,4.48,4.48,0,0,1-3.55,2.57c-2,0-2.52-1.49-1.82-3.58.79-2.35,2.9-4.9,2.47-5.09-.24-.1-1.63.58-3.17,2.26a23.89,23.89,0,0,0-3.5,6.1c-.1.22-.24.31-.46.1-.48-.48-.62-1.27-.24-2.47a38,38,0,0,1,3.84-7.08c.17-.26.36-.24.5,0a2.85,2.85,0,0,1,.07,2.28C137.37,12.22,139,10.9,139.8,11Z"/><path class="text" d="M148.92,12.48c.5,1-.46,2.28-.94,3.58-.1.29-.19.36-.5.19-.58-.29-.91-1-.58-2.09.26-.86,1-1.9.65-2.16s-2.21,1.2-3.29,3.38c-1.32,2.71-.82,4.7.6,4.73,2,0,3.74-1.9,4.73-3.41.12-.19.34-.22.43,0a2.18,2.18,0,0,1-.43,1.44A6,6,0,0,1,145,20.79c-3,0-4.08-2.93-2.52-6s4-4.32,5.16-3.6A3.17,3.17,0,0,1,148.92,12.48Z"/><path class="text" d="M152.42,20.11c2,.1,3.74-1.82,4.78-3.41.12-.19.31-.19.41,0a2,2,0,0,1-.41,1.49,6.08,6.08,0,0,1-4.7,2.59c-3,0-4.1-3-2.54-6s4-4.34,5.21-3.65a4.45,4.45,0,0,1,1.42,1.25c.43.58.24,2-.77,3.26-1.18,1.44-2.78,2.06-4.46.7C150.57,18.53,151.15,20,152.42,20.11Zm2-5.52c.77-1,1.3-2.26,1-2.52-.5-.41-2.5,1-3.62,3.31-.07.14-.14.29-.19.41C152.73,16.54,153.72,15.51,154.41,14.59Z"/><path class="text" d="M163.61,20.16c1,0,2.28-1.66,3.12-3.31.12-.22.29-.22.38,0a2.1,2.1,0,0,1-.19,1.49c-.65,1.32-2.14,2.59-3.46,2.52a1.81,1.81,0,0,1-1.94-1.92,4.25,4.25,0,0,1-3,1.85c-2.23,0-2.66-3-.7-5.93s3.82-3.86,5-3.86a1.43,1.43,0,0,1,1.44,1.63c1.3-2.47,3.12-5.74,4-7,.24-.34.46-.31.58,0,.34.79.26,1.82-.74,3.62-1.15,2.06-3.46,6-4.66,8.57C162.81,19.23,162.79,20.21,163.61,20.16Zm-4.18-4.37c-1.3,2.06-1.56,4.15-.62,4.18s2.26-1.39,3.38-3.58c1.39-2.66,1.75-4.18,1.06-4.2S160.75,13.68,159.43,15.79Z"/><path class="text" d="M180.36,11.16q.32-.47.58-.14a2.62,2.62,0,0,1,0,2.67c-.53,1.08-1.73,2.88-2.3,4.15s-.62,2.38.19,2.33c1,0,2.3-1.68,3.14-3.34.12-.22.29-.24.38,0a2.16,2.16,0,0,1-.22,1.49c-.62,1.32-2.14,2.64-3.46,2.57a1.86,1.86,0,0,1-2-2,4.2,4.2,0,0,1-3,1.87c-2.23,0-2.69-3-.7-6s3.84-3.91,5-3.91a1.47,1.47,0,0,1,1.46,1.73C179.81,12,180.09,11.55,180.36,11.16Zm-1.92,1c-.77-.07-2.52,1.49-3.84,3.62s-1.58,4.18-.65,4.2,2.23-1.51,3.46-3.62C178.92,13.71,179.13,12.22,178.44,12.15Z"/><path class="text" d="M185.18,12.36a2.6,2.6,0,0,1,.86-1.85c.53-.48,1.08-.58,1.3-.36s.12.5-.19,1.06c-.1.14-.17.29-.26.46-.17,2.21.29,4.08.22,5.74A3,3,0,0,1,186,19.92a6.14,6.14,0,0,0,3.22-3.34c.12-.26.36-.19.46,0a2.18,2.18,0,0,1-.34,1.58,5.06,5.06,0,0,1-4.25,2.64,3.55,3.55,0,0,1-3.55-1.8,2.89,2.89,0,0,1,.31-3.34c.29-.24.48-.14.5.24,0,.19,0,.38,0,.58A47.55,47.55,0,0,0,185.18,12.36Zm-2.54,5.42c.36,1.39,1.06,2.38,1.85,2.14,1.1-.34.74-4.1.65-6A42.36,42.36,0,0,1,182.64,17.79Z"/><path class="text" d="M199.82,11a36.1,36.1,0,0,1-2-3.65,2.17,2.17,0,0,1-.12-1.63c.22-.36.6-.53,1.06.1A26.61,26.61,0,0,1,201,10.92a.45.45,0,0,1-.24.53C200.49,11.59,200.11,11.5,199.82,11Zm1.27-.6c-.38-.82-1-2.57-1.3-3.55a2.42,2.42,0,0,1-.14-.79,1.5,1.5,0,0,1,.26-.82c.29-.38.74-.38,1,.14a17.57,17.57,0,0,1,1.37,5c0,.38,0,.53-.46.53A.8.8,0,0,1,201.09,10.44Z"/><path class="text" d="M207.91,12.46a3.16,3.16,0,0,1-.48,2.62,7.63,7.63,0,0,0-.43,1c-.17.46-.38.5-.86.26a1.61,1.61,0,0,1-.84-1.37,4.94,4.94,0,0,1,.55-1.78c.24-.48.41-.91.31-1-.29-.24-1.85,1.32-2.81,3.26a6.53,6.53,0,0,0-.72,2.69c0,1.06.43,1.7,1.08,1.73,1.8,0,3.46-1.82,4.42-3.26.22-.36.58-.46.72,0a1.9,1.9,0,0,1-.31,1.61,6.05,6.05,0,0,1-4.73,2.64,3.13,3.13,0,0,1-3.43-3.31,6.06,6.06,0,0,1,.74-2.78c1.22-2.47,3.12-3.77,4.51-3.77A3,3,0,0,1,207.91,12.46Z"/><path class="text" d="M226.63,18.27a4.86,4.86,0,0,1-3.94,2.57c-1.58,0-2.3-.82-2.3-2.06a5,5,0,0,1,.31-1.58,22.56,22.56,0,0,1,1.78-3.41,6.63,6.63,0,0,0,.6-1.32,7.13,7.13,0,0,0-2.62,2.11,24.29,24.29,0,0,0-3.36,5.88.47.47,0,0,1-.86.12,1.81,1.81,0,0,1-.5-1.3A3.86,3.86,0,0,1,216,18a22.68,22.68,0,0,1,1.15-2.64,2.68,2.68,0,0,1-1.39.24c-.62,2.35-2.4,5.11-4.8,5.11a2.78,2.78,0,0,1-2.3-1.18,3.65,3.65,0,0,1-.65-2.11,6.71,6.71,0,0,1,1-3.34c.91-1.58,2.42-3,3.94-3.12a2,2,0,0,1,1.8.84,4.9,4.9,0,0,0,.41.46,3,3,0,0,1,.77,2.47c1.18-.34,2.69-2,3.77-3.58.31-.41.65-.41.91,0a2.37,2.37,0,0,1,.34,1.18,2.71,2.71,0,0,1,0,.43,6,6,0,0,1,3-1.75c.65,0,1.34.84,1.34,1.75a2.25,2.25,0,0,1-.22,1c-.24.46-.58,1.1-1,1.7s-1,1.73-1.22,2.23A3.51,3.51,0,0,0,222.5,19c0,.48.17.79.53.79.74,0,2.09-1.61,3-3.17a.4.4,0,0,1,.74,0A1.77,1.77,0,0,1,226.63,18.27ZM210.4,19.54c.62,0,1.66-.89,2.5-2.5a16.27,16.27,0,0,0,.84-1.87,3.89,3.89,0,0,1-1.49-1.87,10.08,10.08,0,0,0-1.39,1.85,7.44,7.44,0,0,0-1,3.34C209.85,19.18,210.07,19.54,210.4,19.54Zm4-6.58c0-.36-.19-.5-.36-.5s-.36.19-.36.58a2.4,2.4,0,0,0,.38,1.37A4,4,0,0,0,214.39,13Z"/><path class="text" d="M228,15.72c-1.25,0-1.75-.6-1.94-1.37,0-.24.17-.48.53-.48,1.73,0,3-.19,4.08-.19,1.34,0,1.85.6,2,1.34.07.31,0,.53-.53.5-.26,0-.5,0-.74,0C230.18,15.51,229,15.77,228,15.72Z"/><path class="text" d="M235.12,18.55A62.38,62.38,0,0,1,240.88,11c.53-.5.82-.41.89.17s-.19,1.18-1,2.16a64.08,64.08,0,0,0-5.54,7.27.59.59,0,0,1-.79.29,2,2,0,0,1-1.32-2.28,34.73,34.73,0,0,1,1.56-7.49c.14-.43.48-.55.86-.24a2.23,2.23,0,0,1,.82,1.78,5.33,5.33,0,0,1-.17,1.3C235.58,16.32,235.34,17.28,235.12,18.55Z"/><path class="text" d="M241.56,20.79a1.88,1.88,0,0,1-2.11-2,5.42,5.42,0,0,1,.29-1.58,30.5,30.5,0,0,1,3-5.71c.36-.48.65-.53,1-.17a2.39,2.39,0,0,1,0,2.71c-.46,1-1.56,2.83-2,3.79a4.23,4.23,0,0,0-.34,1.44c0,.38.1.6.36.6,1,0,2.21-1.61,3-3.24.19-.43.5-.38.72,0a1.82,1.82,0,0,1-.12,1.63A4.5,4.5,0,0,1,241.56,20.79Zm3.07-12.24a1.63,1.63,0,0,1,1.32,1.56c0,.65-.36,1.2-1,1.2a1.49,1.49,0,0,1-1.42-1.46A1.25,1.25,0,0,1,244.63,8.55Z"/><path class="text" d="M245,16.11a50.39,50.39,0,0,1,2.35-4.8,1.87,1.87,0,0,1-1.37-.65c-.34-.5-.1-.74.46-.72a13.69,13.69,0,0,0,1.73,0C248.9,8.59,249.4,7.8,250,7c.36-.53.65-.5.91,0a2.16,2.16,0,0,1,.26,1,4.22,4.22,0,0,1-.38,1.66,1.73,1.73,0,0,1,1.32.77c.24.43.07.72-.5.65a7.25,7.25,0,0,0-1.58.07c-.91,1.56-2.28,3.94-3.12,5.76a4.57,4.57,0,0,0-.43,1.8c0,.72.24,1.22.65,1.22.94,0,2.18-1.51,3-3.31.26-.58.82-.62,1,0a1.92,1.92,0,0,1-.24,1.42c-.34.72-1.94,2.78-4,2.78a2.47,2.47,0,0,1-2.38-2.69A5.25,5.25,0,0,1,245,16.11Z"/><path class="text" d="M254.28,10.06c-.31.36-.6.46-.86.38s-.38-.29-.29-.55a21.39,21.39,0,0,1,2.71-4.56c.46-.5.82-.26,1,.07A1.75,1.75,0,0,1,256.51,7,34,34,0,0,1,254.28,10.06Zm1,.91c-.36.34-.72.46-.94.26a.47.47,0,0,1,0-.67,29,29,0,0,1,3.55-4.27c.46-.38,1-.19,1,.22a2.21,2.21,0,0,1-.62,1.56A26.19,26.19,0,0,1,255.28,11Z"/></svg>
                </div>
                <div id="bottom-columns">
                    <div id="bottom-left">
                        <div><router-link to="/">Home</router-link></div>
                        <div><router-link to="/AboutUs">About us</router-link></div>
                        <div><router-link to="/Terms">Terms &amp; Policy</router-link></div>
                    </div>
                    <div id="bottom-right">
                        <!--<div><router-link to="/createnewjob_i">Post your job</router-link></div>-->
                        <div><router-link to="/login">Login</router-link></div>
                        <div><router-link to="/signup">Sign up</router-link></div>
                        <a @click="login_i">Test</a>
                    </div>
                </div>
                <p id="bottom-footer">Kunvet 2017 &copy; All rights reserved.</p>
            </div>
        </div>
  </v-app>
</template>

<script>
import 'font-awesome/scss/font-awesome.scss';
// import 'vuetify/dist/vuetify.min.css';
import 'vuetify/src/stylus/main.styl';
import Vue from 'vue';
import Vuetify from 'vuetify';
import Store from '@/store';
import VuexLS from '@/store/persist';
// svgs
import afw from './assets/navbar/applicant_full_white.svg';
import sfw from './assets/navbar/suitcase_full_white.svg';
import settingIconFull from './assets/navbar/setting_full_white.svg';
import bellIconFull from './assets/navbar/bell_full_white.svg';

Vue.use(Vuetify, {
  theme: {
    primary: '#1976D2', // '#616161',
    secondary: '#b0bec5',
    accent: '#4d4d4d',
    error: '#ff0000',
  },
  options: {
    minifyTheme(val) {
      return process.env.NODE_ENV === 'production' ? val.replace(/[\s|\r\n|\r|\n]/g, '') : null;
    },
  },
});

const Bus = new Vue();
export default {
  data() {
    return {
      acct: 0,
      drawer: false,
      items: [
        [
          { title: 'Login', icon: null, href: '/login' },
          { title: 'Sign up', icon: null, href: '/signup' },
        ],
        [
          { title: 'Saved Jobs', icon: 'dashboard', href: '/savedjobs' },
          { title: 'Applied Jobs', icon: 'dashboard', href: '/appliedjobs' },
          // { title: 'Messages', icon: 'question_answer', href: '/messages' },
          { title: 'Account', icon: null, href: '/account' },
          { title: 'Settings', icon: settingIconFull, href: '/settings' },
        ],
        [
          { title: 'Create job', icon: null, href: '/createnewjob' },
          { title: 'Applicants', icon: afw, href: '/applicants' },
          { title: 'My Jobs', icon: sfw, href: '/myjobs' },
          { title: 'Notifications', icon: bellIconFull, href: '/myorg' },
          { title: 'Account', icon: null, href: '/myorg', subItems: [{ title: 'Settings', href: '/settings' }] },
          /* { title: 'Settings', icon: settingIconFull, href: '/settings' }, */
        ],
      ],
      right: true,
    };
  },
  methods: {
    firstSearch() {
      Bus.$emit('firstSearch');
      this.firstS = false;
    },
    lo() {
      this.acct = 0;
      Store.commit({
        type: 'setAcct',
        acct: 0,
      });
      Store.state.firstSearch = true;
    },
    logout() {
      Bus.$emit('logout');
    },
    login_i() {
      Bus.$emit('individual');
    },
    login_b() {
      Bus.$emit('business');
    },
    l1() {
      this.acct = 1;
      Store.commit({
        type: 'setAcct',
        acct: 1,
      });
      console.log(this.acct);
    },
    l2() {
      this.acct = 2;
      Store.commit({
        type: 'setAcct',
        acct: 2,
      });
      console.log(this.acct);
    },
    routeTo(route) {
      this.$router.push(route);
    },
  },
  created() {
    Bus.$on('logout', this.lo);
    Bus.$on('individual', this.l1);
    Bus.$on('business', this.l2);
    Bus.$on('firstSearch', this.fs1);
    VuexLS.restoreState('vuex',  window.localStorage).then((data) => {
      if (data) {
        this.acct = data.acct;
      }
    });
  },
};
</script>

<style lang="scss">
// @import 'vuetify/src/stylus/main';
@import 'app.css';
@import 'account.css';
@import 'postsAndSearch.css';
body, html {
  height: 100%;
  width: 100%;
}
/* h1 {
   font-size: 1.5em;
   -webkit-margin-before: 0.83em;
   -webkit-margin-after: 0.83em;
   font-weight: bold;
} */
@media only screen and (min-width:600px) {
  .hidden-sm-and-up { display:none !important; }
}
</style>
